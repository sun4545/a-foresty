<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data & Analytics - Technova Place</title>
            <link rel="stylesheet" href="styles.css?v=9.0">
    <link rel="stylesheet" href="components/read-more-button.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.css" />
    
    <!-- Hubot Sans Font -->
    <style>
        @font-face {
            font-family: 'Hubot Sans';
            src: url('@Hubot_Sans/HubotSans-Regular.woff2') format('woff2'),
                 url('@Hubot_Sans/HubotSans-Regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: 'Hubot Sans';
            src: url('@Hubot_Sans/HubotSans-Medium.woff2') format('woff2'),
                 url('@Hubot_Sans/HubotSans-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: 'Hubot Sans';
            src: url('@Hubot_Sans/HubotSans-SemiBold.woff2') format('woff2'),
                 url('@Hubot_Sans/HubotSans-SemiBold.woff') format('woff');
            font-weight: 600;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: 'Hubot Sans';
            src: url('@Hubot_Sans/HubotSans-Bold.woff2') format('woff2'),
                 url('@Hubot_Sans/HubotSans-Bold.woff') format('woff');
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }
    </style>
</head>
    <body class="data-analytics">
    <!-- Background Grid -->
    <div class="background-grid">
        <div class="vertical-line"></div>
        <div class="vertical-line-background"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="header-content">
                <a href="index.html" class="logo" aria-label="Technova Place">
                    <img src="../asset/Logo.svg" alt="technova place" class="logo-img" width="164" height="24">
                </a>
                <nav class="nav">
                    <!-- Desktop Navigation -->
                    <div class="nav-desktop">
                        <button class="icon-button search-btn" aria-label="검색">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.7222 16.9444C14.1586 16.9444 16.9444 14.1586 16.9444 10.7222C16.9444 7.28577 14.1586 4.5 10.7222 4.5C7.28577 4.5 4.5 7.28577 4.5 10.7222C4.5 14.1586 7.28577 16.9444 10.7222 16.9444Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M19 19L15.1167 15.1172" stroke="currentColor" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path>
                            </svg>
                        </button>
                        <div class="nav-menu-group">
                            <ul class="nav-menu">
                                <li>
                                    <a href="#" class="menu-link blog-menu" aria-haspopup="true" aria-expanded="false">
                                        <span>Blog</span>
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="arrow-icon">
                                            <path d="M16.293 9.29297L12 13.586L7.707 9.29297L6.293 10.707L12 16.414L17.707 10.707L16.293 9.29297Z" fill="currentColor"></path>
                                        </svg>
                                    </a>
                                    <div class="blog-dropdown" style="left: -191px;">
                                                                            <a href="index.html" class="blog-dropdown-item">All categories</a>
                                    <a href="ai-machine-learning.html" class="blog-dropdown-item">AI & machine learning</a>
                                    <a href="cybersecurity.html" class="blog-dropdown-item">Cybersecurity</a>
                                    <a href="cloud-computing.html" class="blog-dropdown-item">Cloud computing</a>
                                    <a href="data-analytics.html" class="blog-dropdown-item">Data & analytics</a>
                                    <a href="team.html" class="blog-dropdown-item">Team</a>
                                    </div>
                                </li>
                                <li>
                                    <a href="contact.html" class="menu-link contact-menu">Contact</a>
                                </li>
                            </ul>
                            <div class="nav-actions">
                                <button class="cta-button">Subscribe</button>
                            </div>
                        </div>
                    </div>
                    <!-- Mobile Navigation -->
                    <div class="nav-mobile">
                        <button class="icon-button search-btn" aria-label="검색">
                            <img src="../asset/icon/Property 1=search2.svg" alt="검색" class="mobile-icon">
                        </button>
                        <button class="hamburger-btn" aria-label="메뉴 열기" aria-expanded="false">
                            <img src="../asset/icon/Property 1=menu.svg" alt="메뉴" class="mobile-icon">
                        </button>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Search Overlay -->
    <div class="search-overlay">
        <div class="search-container">
            <!-- Top 영역: 로고와 닫기 버튼 -->
            <div class="search-top">
                <div class="search-top-content">
                    <div class="search-logo">
                        <img src="../asset/Logo.svg" alt="technova place" class="search-logo-img">
                    </div>
                    <button class="search-close-btn" aria-label="검색창 닫기">
                        <img src="../asset/icon/Property 1=close.svg" alt="닫기" width="24" height="24">
                    </button>
                </div>
            </div>
            <!-- Search + List 영역: 검색창과 검색결과 -->
            <div class="search-main">
                <div class="search-input-wrapper">
                    <svg class="search-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.7222 16.9444C14.1586 16.9444 16.9444 14.1586 16.9444 10.7222C16.9444 7.28577 14.1586 4.5 10.7222 4.5C7.28577 4.5 4.5 7.28577 4.5 10.7222C4.5 14.1586 7.28577 16.9444 10.7222 16.9444Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M19 19L15.1167 15.1172" stroke="currentColor" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path>
                    </svg>
                    <input type="text" class="search-input" placeholder="주제나 키워드를 검색하세요" autocomplete="off" style="font-family: 'Input Mixed Font', 'Hubot Sans', 'Pretendard Variable', sans-serif;">
                </div>
                <!-- 검색어가 없을 때: Recent posts -->
                <div class="search-recent" id="searchRecent">
                    <h3 class="search-section-title">Recent posts</h3>
                    <div class="search-results-list">
                        <a href="#" class="search-result-item">
                            <div class="search-result-image">
                                <img src="../image/basic_4-3_1.jpg" alt="Data & analytics">
                            </div>
                            <div class="search-result-content">
                                <span class="search-result-category">Data & analytics</span>
                                <h4 class="search-result-title">데이터 레이크 대 데이터 웨어하우스 : 과연 누가 승자일까</h4>
                            </div>
                        </a>
                        <a href="#" class="search-result-item">
                            <div class="search-result-image">
                                <img src="../image/basic_4-3_2.jpg" alt="Cloud computing">
                            </div>
                            <div class="search-result-content">
                                <span class="search-result-category">Cloud computing</span>
                                <h4 class="search-result-title">멀티 클라우드 전략 완전 해부</h4>
                            </div>
                        </a>
                        <a href="#" class="search-result-item">
                            <div class="search-result-image">
                                <img src="../image/basic_4-3_3.jpg" alt="Team">
                            </div>
                            <div class="search-result-content">
                                <span class="search-result-category">Team</span>
                                <h4 class="search-result-title">금전적 보상없이, 이벤트 바이럴이 가능할까?</h4>
                            </div>
                        </a>
                    </div>
                </div>
                <!-- 검색어가 있을 때: 검색 결과 -->
                <div class="search-results" id="searchResults" style="display: none;">
                    <h3 class="search-section-title">Search results</h3>
                    <div class="search-results-list" id="searchResultsList">
                        <!-- 검색 결과가 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay">
        <div class="mobile-menu">
            <div class="mobile-menu-header">
                <div class="header-container">
                    <div class="header-content">
                        <a href="index.html" class="logo" aria-label="Technova Place">
                            <img src="../asset/Logo.svg" alt="technova place" class="logo-img" width="164" height="24">
                        </a>
                        <nav class="nav">
                            <div class="nav-mobile">
                                <button class="icon-button search-btn" aria-label="검색">
                                    <img src="../asset/icon/Property 1=search2.svg" alt="검색" class="mobile-icon">
                                </button>
                                <button class="mobile-menu-close" aria-label="메뉴 닫기">
                                    <img src="../asset/icon/Property 1=close.svg" alt="닫기" class="mobile-close-icon">
                                </button>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div class="mobile-menu-content">
                <div class="mobile-menu-sections">
                    <div class="mobile-menu-section">
                        <div class="mobile-menu-item blog-dropdown-trigger">
                            <span>Blog</span>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="dropdown-icon">
                                <path d="M16.293 9.29297L12 13.586L7.707 9.29297L6.293 10.707L12 16.414L17.707 10.707L16.293 9.29297Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="mobile-blog-dropdown">
                            <a href="#" class="mobile-menu-item">All categories</a>
                            <a href="ai-machine-learning.html" class="mobile-menu-item">AI & machine learning</a>
                            <a href="cybersecurity.html" class="mobile-menu-item">Cybersecurity</a>
                            <a href="cloud-computing.html" class="mobile-menu-item">Cloud computing</a>
                            <a href="data-analytics.html" class="mobile-menu-item">Data & analytics</a>
                            <a href="#" class="mobile-menu-item">Team</a>
                        </div>
                        <a href="contact.html" class="mobile-menu-item">Contact</a>
                    </div>
                </div>
                <div class="mobile-menu-footer">
                    <button class="mobile-subscribe-btn">Subscribe</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Categories Section -->
    <section class="categories">
        <div class="categories-container">
            <div class="tabs">
                <a href="index.html" class="tab">All categories</a>
                <a href="ai-machine-learning.html" class="tab">AI & machine learning</a>
                <a href="cybersecurity.html" class="tab">Cybersecurity</a>
                <a href="cloud-computing.html" class="tab">Cloud computing</a>
                <a href="data-analytics.html" class="tab active">Data & analytics</a>
                <a href="team.html" class="tab">Team</a>
            </div>
        </div>
        <div class="deco-left"></div>
        <div class="deco-right"></div>
    </section>

    <!-- Hero Banner Section -->
    <section class="hero-banner-section">
        <a href="data-analytics-detail.html" class="hero-container-link">
            <div class="hero-banner">
                <div class="hero-container">
                    <div class="hero-content">
                        <div class="hero-text">
                            <span class="category-tag">Data & analytics</span>
                            <h2 class="hero-title">데이터 레이크 대 데이터 웨어하우스 : 과연 누가 승자일까</h2>
                            <p class="hero-description">
                                빅데이터 시대가 도래하면서 기업들은 데이터 저장과 분석을 위한 새로운 아키텍처를 모색하고 있다. 전통적인 데이터 웨어하우스는 구조화된 데이터를 효율적으로 처리할 수 있지만, 비정형 데이터의 증가와 실시간 분석 요구사항에 한계를 보이고 있다. 반면 데이터 레이크는 모든 형태의 데이터를 원시 상태로 저장할 수 있어 유연성이 뛰어나지만, 데이터 거버넌스와 품질 관리의 어려움이 있다. 두 접근 방식의 장단점을 비교하고, 기업의 데이터 전략에 최적의 솔루션을 제시한다.
                            </p>
                            <div class="author-info">
                                <div class="author-profile">
                                    <img src="image/profile1.png" alt="윤테크" class="author-avatar">
                                    <div class="author-details">
                                        <span class="author-name">윤테크</span>
                                        <span class="post-dot"></span>
                                        <span class="author-date">2025년 6월 7일</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="hero-image">
                            <img src="../image/Image5.jpg" alt="Data & analytics" class="hero-img">
                        </div>
                    </div>
                </div>
                <div class="hero-icon-button" aria-label="더보기">
                    <img src="../asset/icon/Property 1=bx-arrow-front.svg" alt="화살표">
                </div>
            </div>
        </a>
        <div class="deco-left"></div>
        <div class="deco-right"></div>
    </section>

    <!-- Data & Analytics Posts -->
    <section class="recent-posts">
        <div class="container">
            <h3 class="section-title">Data & analytics</h3>
            <div class="posts-grid">
                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_1.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 레이크 대 데이터 웨어하우스 : 과연 누가 승자일까</h4>
                            <div class="post-meta">
                                <span class="post-author">윤테크</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 7일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_2.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">실시간 데이터 스트리밍의 비즈니스 가치</h4>
                            <div class="post-meta">
                                <span class="post-author">박스트리밍</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 6일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_3.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 거버넌스와 품질 관리 전략</h4>
                            <div class="post-meta">
                                <span class="post-author">이거버넌스</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 5일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_1.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 시각화의 새로운 트렌드</h4>
                            <div class="post-meta">
                                <span class="post-author">최시각화</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 4일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_2.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">예측 분석과 머신러닝의 융합</h4>
                            <div class="post-meta">
                                <span class="post-author">정예측</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 3일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_3.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 엔지니어링의 모범 사례</h4>
                            <div class="post-meta">
                                <span class="post-author">윤엔지니어링</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 2일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_1.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 마이닝과 패턴 인식</h4>
                            <div class="post-meta">
                                <span class="post-author">한마이닝</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 6월 1일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_2.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 분석 팀의 조직과 역할</h4>
                            <div class="post-meta">
                                <span class="post-author">김분석팀</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 5월 31일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_3.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 기반 의사결정의 실제 사례</h4>
                            <div class="post-meta">
                                <span class="post-author">박의사결정</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 5월 30일</span>
                            </div>
                        </div>
                    </article>
                </a>
            </div>
            
            <!-- Load More Button -->
            <div class="read-more-container">
                <button class="read-more-btn" id="loadMoreBtn">
                    <span>Load more</span>
                    <img src="../asset/icon/Property 1=plus.svg" alt="더보기" class="read-more-icon">
                </button>
            </div>
            
            <!-- Hidden Additional Posts -->
            <div id="additionalPosts" style="display: none;">
                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_1.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">실시간 데이터 스트리밍 분석</h4>
                            <div class="post-meta">
                                <span class="post-author">김실시간분석</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 5월 29일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_2.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">빅데이터 처리 기술의 발전</h4>
                            <div class="post-meta">
                                <span class="post-author">이빅데이터</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 5월 28일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_3.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">데이터 시각화의 새로운 기법</h4>
                            <div class="post-meta">
                                <span class="post-author">박시각화</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 5월 27일</span>
                            </div>
                        </div>
                    </article>
                </a>

                <a href="#" class="post-card-link">
                    <article class="post-card">
                        <div class="post-image">
                            <img src="../image/basic_4-3_1.jpg" alt="Data & analytics">
                        </div>
                        <div class="post-content">
                            <span class="post-category">Data & analytics</span>
                            <h4 class="post-title">머신러닝 기반 예측 모델링</h4>
                            <div class="post-meta">
                                <span class="post-author">최예측모델링</span>
                                <span class="post-dot"></span>
                                <span class="post-date">2025년 5월 26일</span>
                            </div>
                        </div>
                    </article>
                </a>
            </div>
        </div>
        <div class="deco-left"></div>
        <div class="deco-right"></div>
    </section>

    <!-- Subscribe Section -->
    <section class="subscribe-section">
        <div class="container">
            <div class="subscribe-content">
                <h3 class="subscribe-title">Join our community</h3>
                <p class="subscribe-description">구독하고 최신 IT 콘텐츠를 빠르게 만나보세요</p>
                <div class="subscribe-form">
                    <input type="email" placeholder="Email address" class="subscribe-input" id="subscribeEmail">
                    <button class="subscribe-button" id="subscribeBtn">Subscribe</button>
                </div>
            </div>
        </div>
        <div class="deco-left"></div>
        <div class="deco-right"></div>
    </section>

    <!-- Footer Component will be inserted here by footer.js -->

    <script type="module" src="script.js"></script>
    <script src="js/font-mixer.js"></script>
    <script src="js/search.js"></script>
    <script src="js/footer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/colorthief@2.4.0/dist/color-thief.min.js"></script>
    <script>
        // Load More 기능
        document.addEventListener('DOMContentLoaded', function() {
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            const additionalPosts = document.getElementById('additionalPosts');
            const postsGrid = document.querySelector('.posts-grid');
            
            if (loadMoreBtn && additionalPosts && postsGrid) {
                loadMoreBtn.addEventListener('click', function() {
                    // 추가 포스트들을 posts-grid에 추가
                    const postsToAdd = additionalPosts.querySelectorAll('.post-card-link');
                    postsToAdd.forEach(post => {
                        postsGrid.appendChild(post.cloneNode(true));
                    });
                    
                    // 추가 포스트 영역 숨기기
                    additionalPosts.style.display = 'none';
                    
                    // 버튼 숨기기
                    loadMoreBtn.style.display = 'none';
                });
            }
        });

        // 이미지에서 주요 색상 추출 및 배경색 적용
        function applyImageColorToBackground() {
            const heroImages = document.querySelectorAll('.hero-img');
            
            heroImages.forEach(img => {
                if (img.complete) {
                    extractAndApplyColor(img);
                } else {
                    img.addEventListener('load', () => extractAndApplyColor(img));
                }
            });
        }

        // WCAG 대비비 계산 함수
        function calculateContrastRatio(color1, color2) {
            // RGB를 상대 휘도로 변환
            function getRelativeLuminance(r, g, b) {
                const [rs, gs, bs] = [r / 255, g / 255, b / 255].map(c => {
                    return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
                });
                return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
            }
            
            const l1 = getRelativeLuminance(color1[0], color1[1], color1[2]);
            const l2 = getRelativeLuminance(color2[0], color2[1], color2[2]);
            
            const lighter = Math.max(l1, l2);
            const darker = Math.min(l1, l2);
            
            return (lighter + 0.05) / (darker + 0.05);
        }

        // RGB를 HSV로 변환하는 함수
        function rgbToHsv(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            const diff = max - min;
            
            let h = 0;
            let s = max === 0 ? 0 : diff / max;
            let v = max;
            
            if (diff !== 0) {
                switch (max) {
                    case r:
                        h = (g - b) / diff + (g < b ? 6 : 0);
                        break;
                    case g:
                        h = (b - r) / diff + 2;
                        break;
                    case b:
                        h = (r - g) / diff + 4;
                        break;
                }
                h /= 6;
            }
            
            return { h: h * 360, s: s * 100, v: v * 100 };
        }

        // 채도가 50% 이상인 색상인지 확인
        function isSaturatedColor(r, g, b, minSaturation = 50) {
            const hsv = rgbToHsv(r, g, b);
            return hsv.s >= minSaturation;
        }

        // 밝기가 30% 이상인 색상인지 확인
        function isBrightEnough(r, g, b, minBrightness = 30) {
            const hsv = rgbToHsv(r, g, b);
            return hsv.v >= minBrightness;
        }

        // 대비비가 충분한 색상 찾기 (유채색 + 밝기 우선)
        function findAccessibleColor(palette, targetContrast = 4.5) {
            const whiteText = [255, 255, 255]; // #ffffff
            
            // 1단계: 채도 50% 이상 + 밝기 30% 이상 + 대비비 충분한 유채색 찾기
            for (let i = 0; i < palette.length; i++) {
                const [r, g, b] = palette[i];
                if (isSaturatedColor(r, g, b, 50) && isBrightEnough(r, g, b, 30)) {
                    const contrast = calculateContrastRatio(palette[i], whiteText);
                    if (contrast >= targetContrast) {
                        const hsv = rgbToHsv(r, g, b);
                        console.log(`Found saturated bright color: rgb(${r}, ${g}, ${b}) with saturation: ${hsv.s.toFixed(1)}%, brightness: ${hsv.v.toFixed(1)}%`);
                        return palette[i];
                    }
                }
            }
            
            // 2단계: 채도 30% 이상 + 밝기 30% 이상 + 대비비 충분한 색상 찾기
            for (let i = 0; i < palette.length; i++) {
                const [r, g, b] = palette[i];
                if (isSaturatedColor(r, g, b, 30) && isBrightEnough(r, g, b, 30)) {
                    const contrast = calculateContrastRatio(palette[i], whiteText);
                    if (contrast >= targetContrast) {
                        const hsv = rgbToHsv(r, g, b);
                        console.log(`Found moderately saturated bright color: rgb(${r}, ${g}, ${b}) with saturation: ${hsv.s.toFixed(1)}%, brightness: ${hsv.v.toFixed(1)}%`);
                        return palette[i];
                    }
                }
            }
            
            // 3단계: 밝기 30% 이상 + 대비비가 충분한 색상 찾기 (채도 무관)
            for (let i = 0; i < palette.length; i++) {
                const [r, g, b] = palette[i];
                if (isBrightEnough(r, g, b, 30)) {
                    const contrast = calculateContrastRatio(palette[i], whiteText);
                    if (contrast >= targetContrast) {
                        const hsv = rgbToHsv(r, g, b);
                        console.log(`Found bright accessible color: rgb(${r}, ${g}, ${b}) with saturation: ${hsv.s.toFixed(1)}%, brightness: ${hsv.v.toFixed(1)}%`);
                        return palette[i];
                    }
                }
            }
            
            // 4단계: 대비비가 충분한 색상 찾기 (밝기 무관)
            for (let i = 0; i < palette.length; i++) {
                const contrast = calculateContrastRatio(palette[i], whiteText);
                if (contrast >= targetContrast) {
                    const [r, g, b] = palette[i];
                    const hsv = rgbToHsv(r, g, b);
                    console.log(`Found accessible color: rgb(${r}, ${g}, ${b}) with saturation: ${hsv.s.toFixed(1)}%, brightness: ${hsv.v.toFixed(1)}%`);
                    return palette[i];
                }
            }
            
            // 5단계: 대비비가 충분하지 않으면 색상을 조정
            const [r, g, b] = palette[0];
            let adjustedR = r, adjustedG = g, adjustedB = b;
            
            // 색상을 어둡게 조정하여 대비비 개선
            while (calculateContrastRatio([adjustedR, adjustedG, adjustedB], whiteText) < targetContrast) {
                adjustedR = Math.max(0, adjustedR - 10);
                adjustedG = Math.max(0, adjustedG - 10);
                adjustedB = Math.max(0, adjustedB - 10);
                
                // 너무 어두워지면 중단
                if (adjustedR === 0 && adjustedG === 0 && adjustedB === 0) {
                    break;
                }
            }
            
            const hsv = rgbToHsv(adjustedR, adjustedG, adjustedB);
            console.log(`Adjusted color: rgb(${adjustedR}, ${adjustedG}, ${adjustedB}) with saturation: ${hsv.s.toFixed(1)}%, brightness: ${hsv.v.toFixed(1)}% for better contrast`);
            return [adjustedR, adjustedG, adjustedB];
        }

        function extractAndApplyColor(img) {
            try {
                const colorThief = new ColorThief();
                const palette = colorThief.getPalette(img, 5); // 5개의 주요 색상 추출
                
                if (palette && palette.length > 0) {
                    // 대비비가 충분한 색상 찾기
                    const [r, g, b] = findAccessibleColor(palette, 4.5);
                    
                    // hero-container 찾기 (이미지의 상위 요소들 중에서)
                    // 모바일에서는 .hero-banner에 직접 적용, 데스크톱에서는 .hero-container에 적용
                    const heroContainer = img.closest('.hero-banner') || 
                                        img.closest('.hero-container') || 
                                        img.closest('.hero-banner-section');
                    
                    if (heroContainer) {
                        // 그라데이션 배경 생성 (추출된 색상에서 약간 어두운 색상으로)
                        const darkerR = Math.max(0, r - 30);
                        const darkerG = Math.max(0, g - 30);
                        const darkerB = Math.max(0, b - 30);
                        
                        const gradient = `linear-gradient(112.15deg, rgb(${r}, ${g}, ${b}) 16.48%, rgb(${darkerR}, ${darkerG}, ${darkerB}) 87.74%)`;
                        
                        heroContainer.style.background = gradient;
                        
                        // 그라데이션의 평균 색상 계산 (실제 배경색과 일치하도록)
                        const avgR = Math.round((r + darkerR) / 2);
                        const avgG = Math.round((g + darkerG) / 2);
                        const avgB = Math.round((b + darkerB) / 2);
                        
                        // 배경색에 따른 hover drop shadow 색상 적용 (평균 색상 사용)
                        applyHoverDropShadow(heroContainer, [avgR, avgG, avgB]);
                        
                        // 대비비 확인
                        const contrast = calculateContrastRatio([r, g, b], [255, 255, 255]);
                        console.log(`Applied gradient: ${gradient} to ${heroContainer.className}, Average color: rgb(${avgR}, ${avgG}, ${avgB}), Contrast ratio: ${contrast.toFixed(2)}`);
                    }
                }
            } catch (error) {
                console.error('Error extracting color:', error);
            }
        }

        // 배경색에 따른 hover drop shadow 색상 적용 함수
        function applyHoverDropShadow(container, baseColor) {
            const [r, g, b] = baseColor;
            
            // 배경색을 기반으로 최적화된 drop shadow 색상 생성
            // 더 어둡고 깊이감 있는 색상으로 설정
            const darkerR = Math.max(0, r - 40);
            const darkerG = Math.max(0, g - 40);
            const darkerB = Math.max(0, b - 40);
            
            // 투명도도 조정하여 더 자연스러운 그림자 효과
            const shadowColor = `rgba(${darkerR}, ${darkerG}, ${darkerB}, 0.4)`;
            
            // 컨테이너의 고유 ID 생성 (페이지별로 구분)
            const uniqueId = `hover-shadow-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
            container.setAttribute('data-hover-shadow-id', uniqueId);
            
            // CSS 스타일 동적 생성
            const styleId = `dynamic-hover-shadow-${uniqueId}`;
            let styleElement = document.getElementById(styleId);
            
            if (!styleElement) {
                styleElement = document.createElement('style');
                styleElement.id = styleId;
                document.head.appendChild(styleElement);
            }
            
            // 고유한 선택자 생성
            const uniqueSelector = `[data-hover-shadow-id="${uniqueId}"]`;
            
            // CSS 규칙 생성 - 더 부드러운 그림자 효과
            const cssRule = `
                ${uniqueSelector}:hover {
                    box-shadow: 0 12px 40px ${shadowColor}, 0 4px 16px rgba(0, 0, 0, 0.1) !important;
                    transition: all 0.3s ease !important;
                }
            `;
            
            // 스타일 적용
            styleElement.textContent = cssRule;
            
            console.log(`Applied optimized hover drop shadow: ${shadowColor} to ${container.className} with ID: ${uniqueId}`);
        }

        // 페이지 로드 시 실행
        document.addEventListener('DOMContentLoaded', applyImageColorToBackground);
    </script>
</body>
</html> 